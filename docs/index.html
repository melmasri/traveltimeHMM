<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimate and predict travel time on road networks • traveltimeHMM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Estimate and predict travel time on road networks">
<meta property="og:description" content="Implements a Hidden Markov Model (HMM) with a random trip effect to estimate the distribution of travel time. The HMM is used to capture dependency on hidden congestion states. The trip effect is used to capture dependency on driver behaviour. Variations of those two types of dependencies leads to four models to estimate the distribution of travel time. Prediction methods for each model is provided.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">traveltimeHMM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/traveltimeHMM.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/melmasri/traveltimeHMM">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="traveltimehmm" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#traveltimehmm" class="anchor"></a>traveltimeHMM</h1></div>
<p><code>traveltimeHMM</code> package implements a Hidden Markov Model (HMM) with a random trip effect to estimate the distribution of travel time. The HMM is used to capture dependency on hidden congestion states. The trip effect is used to capture dependency on driver behaviour. Variations of those two types of dependencies leads to four models to estimate the distribution of travel time. Prediction methods for each model is provided.</p>
<p><a href="https://melmasri.github.io/traveltimeHMM/">Package website</a></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The package is still under development in the Beta stage.</p>
<p>Install from <a href="https://github.com/melmasri/traveltimeHMM">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"melmasri/traveltimeHMM"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This package includes a small data set (<code>tripset</code>) that aggregates map-matched anonymized mobile phone GPS data collected in Quebec city in 2014 using the Mon Trajet smartphone application developed by <a href="https://brisksynergies.com/">Brisk Synergies Inc</a>. The precise duration of the time period is kept confidential.</p>
<p>View the data with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(traveltimeHMM)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(tripset)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(tripset)</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt;   tripID linkID timeBin logspeed traveltime    length                time</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; 1   2700  10469 Weekday 1.692292  13.000000  70.61488 2014-04-28 06:07:27</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; 2   2700  10444 Weekday 2.221321  18.927792 174.50487 2014-04-28 06:07:41</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 3   2700  10460 Weekday 2.203074   8.589937  77.76295 2014-04-28 06:07:58</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; 4   2700  10462 Weekday 1.924290  14.619859 100.15015 2014-04-28 06:08:07</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; 5   2700  10512 Weekday 1.804293   5.071986  30.81574 2014-04-28 06:08:21</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt; 6   2700   5890 Weekday 2.376925  31.585355 340.22893 2014-04-28 06:08:26</span></a></code></pre></div>
<p>To fit a simple <code>HMM</code> model use the following code</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">fit &lt;-<span class="st"> </span><span class="kw"><a href="reference/traveltimeHMM.html">traveltimeHMM</a></span>(<span class="dt">data =</span> tripset,<span class="dt">nQ =</span> <span class="dv">2</span>,<span class="dt">max.it =</span> <span class="dv">20</span>, <span class="dt">model =</span> <span class="st">"HMM"</span>)</a></code></pre></div>
<p>Predict for a single trip with:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">single_trip &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/subset">subset</a></span>(tripset, tripID<span class="op">==</span><span class="dv">2700</span>)</a>
<a class="sourceLine" id="cb4-2" title="2">pred &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">object =</span> fit,</a>
<a class="sourceLine" id="cb4-3" title="3">               <span class="dt">tripdata =</span> single_trip,</a>
<a class="sourceLine" id="cb4-4" title="4">               <span class="dt">starttime =</span> single_trip<span class="op">$</span>time[<span class="dv">1</span>],</a>
<a class="sourceLine" id="cb4-5" title="5">               <span class="dt">n =</span> <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/hist">hist</a></span>(pred, <span class="dt">freq =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="bugs" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs" class="anchor"></a>Bugs</h2>
<p>This is a work in progress. For bugs and features, please refer to <a href="https://github.com/melmasri/traveltimeHMM/issues">here</a>.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Woodard, D., Nogin, G., Koch, P., Racz, D., Goldszmidt, M., Horvitz, E., 2017. “Predicting travel time reliability using mobile phone GPS data”. <em>Transportation Research Part C</em>, 75, 30-44. <a href="http://dx.doi.org/10.1016/j.trc.2016.10.011" class="uri">http://dx.doi.org/10.1016/j.trc.2016.10.011</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/melmasri/traveltimeHMM">https://​github.com/​melmasri/​traveltimeHMM</a>
</li>
<li>Report a bug at <br><a href="https://github.com/melmasri/traveltimeHMM/issues">https://​github.com/​melmasri/​traveltimeHMM/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mohamad Elmasri <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>


      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mohamad Elmasri.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
